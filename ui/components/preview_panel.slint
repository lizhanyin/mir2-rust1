// 右侧预览面板组件
// 显示当前选中的图像预览

import { FontSettings, Colors } from "../theme.slint";

export component PreviewPanel inherits Rectangle {
    // 属性
    in property <int> current_index: -1;
    in property <image> main_preview;
    in property <bool> preview_bg_light: false;

    background: root.preview_bg_light ? #ffffff : #1a1a1a;

    VerticalLayout {
        spacing: 0px;

        // 预览画布
        Rectangle {
            HorizontalLayout {
                alignment: center;

                Rectangle {
                    width: 400px;
                    height: 400px;

                    // 显示图像或占位符
                    if root.current_index >= 0 : Rectangle {
                        background: root.preview_bg_light ? #ffffff : #1a1a1a;

                        // 显示实际图像预览
                        if root.main_preview.width > 0 : Image {
                            source: root.main_preview;
                            width: 380px;
                            height: 380px;
                            image-fit: contain;
                        }
                    }

                    if root.current_index < 0 : Rectangle {
                        background: Colors.bg-primary;

                        Text {
                            text: "请选择一张图像";
                            color: Colors.text-disabled;
                            horizontal-alignment: center;
                            vertical-alignment: center;
                            font-family: FontSettings.chinese-font;
                            font-size: 14px;
                        }
                    }
                }
            }
        }
    }
}
